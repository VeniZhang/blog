<!DOCTYPE html>
<html>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下：‘’’ bash CommentINSTRUCTION arguments‘’’  大小写不敏感，建议大写。  命令介绍FROM‘’‘FROM  或FROM :’‘’  指定以哪一个镜像为基准。 首先检查本地是否存在该镜像，如若不存在则从公共仓库下载。  RUN’">
<meta property="og:type" content="article">
<meta property="og:title" content="Dockerfile commands">
<meta property="og:url" content="http://blog.betterself.cn/2018/01/28/Dockerfile-commands/index.html">
<meta property="og:site_name" content="Veni">
<meta property="og:description" content="Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下：‘’’ bash CommentINSTRUCTION arguments‘’’  大小写不敏感，建议大写。  命令介绍FROM‘’‘FROM  或FROM :’‘’  指定以哪一个镜像为基准。 首先检查本地是否存在该镜像，如若不存在则从公共仓库下载。  RUN’">
<meta property="og:updated_time" content="2018-01-28T07:40:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Dockerfile commands">
<meta name="twitter:description" content="Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下：‘’’ bash CommentINSTRUCTION arguments‘’’  大小写不敏感，建议大写。  命令介绍FROM‘’‘FROM  或FROM :’‘’  指定以哪一个镜像为基准。 首先检查本地是否存在该镜像，如若不存在则从公共仓库下载。  RUN’">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>Dockerfile commands</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- rss -->
    
    
</head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li><a class="icon" href="/2018/01/28/tmux笔记/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&text=Dockerfile commands"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&title=Dockerfile commands"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&is_video=false&description=Dockerfile commands"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Dockerfile commands&body=Check out this article: http://blog.betterself.cn/2018/01/28/Dockerfile-commands/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&title=Dockerfile commands"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&title=Dockerfile commands"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&title=Dockerfile commands"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&title=Dockerfile commands"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&name=Dockerfile commands&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下："><span class="toc-number">1.</span> <span class="toc-text">Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Comment"><span class="toc-number"></span> <span class="toc-text">Comment</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#命令介绍"><span class="toc-number">1.</span> <span class="toc-text">命令介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#FROM"><span class="toc-number">1.1.</span> <span class="toc-text">FROM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RUN"><span class="toc-number">1.2.</span> <span class="toc-text">RUN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ENTRYPOINT"><span class="toc-number">1.3.</span> <span class="toc-text">ENTRYPOINT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CMD"><span class="toc-number">1.4.</span> <span class="toc-text">CMD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EXPOSE"><span class="toc-number">1.5.</span> <span class="toc-text">EXPOSE</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#expose-memcached-s-port"><span class="toc-number"></span> <span class="toc-text">expose memcached(s) port</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ADD"><span class="toc-number">0.1.</span> <span class="toc-text">ADD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#COPY"><span class="toc-number">0.2.</span> <span class="toc-text">COPY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ENV"><span class="toc-number">0.3.</span> <span class="toc-text">ENV</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VOLUME"><span class="toc-number">0.4.</span> <span class="toc-text">VOLUME</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WORKDIR"><span class="toc-number">0.5.</span> <span class="toc-text">WORKDIR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ONBUILD"><span class="toc-number">0.6.</span> <span class="toc-text">ONBUILD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#USER"><span class="toc-number">0.7.</span> <span class="toc-text">USER</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MAINTAINER"><span class="toc-number">0.8.</span> <span class="toc-text">MAINTAINER</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-‘’‘-dockerignore’‘’-file"><span class="toc-number">0.9.</span> <span class="toc-text">The ‘’‘.dockerignore’‘’ file</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Dockerfile commands
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Veni</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-01-28T07:39:55.000Z" itemprop="datePublished">2018-01-28</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下："><a href="#Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下：" class="headerlink" title="Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下："></a>Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下：</h2><p>‘’’ bash</p>
<h1 id="Comment"><a href="#Comment" class="headerlink" title="Comment"></a>Comment</h1><p>INSTRUCTION arguments<br>‘’’</p>
<ul>
<li>大小写不敏感，建议大写。</li>
</ul>
<h2 id="命令介绍"><a href="#命令介绍" class="headerlink" title="命令介绍"></a>命令介绍</h2><h3 id="FROM"><a href="#FROM" class="headerlink" title="FROM"></a>FROM</h3><p>‘’‘<br>FROM  <image><br>或<br>FROM <image>:<tag><br>’‘’</tag></image></image></p>
<ul>
<li>指定以哪一个镜像为基准。</li>
<li>首先检查本地是否存在该镜像，如若不存在则从公共仓库下载。</li>
</ul>
<h3 id="RUN"><a href="#RUN" class="headerlink" title="RUN"></a>RUN</h3><p>’‘’<br>RUN <commnad><br>或<br>RUN [“executable”, “param1”, “param2”]<br>‘’‘</commnad></p>
<ul>
<li>RUN指令会在当前镜像的顶层执行任何命令，并commit成新的（中间）镜像，提交的镜像作为当前镜像。</li>
</ul>
<p>shell格式，相当于执行’’’/bin/sh -c “<command>“‘’’</p>
<p>‘’’ RUN apt-get install vim -y’’’<br>exec格式，不会触发shell，所以$HOME这样的环境变量无法使用，但它可以在没有bash的镜像中执行，而且可以避免错误的解析命令字符串：</p>
<p>‘’’ RUN [“apt-get”, “install”, “vim”, “-y”] ‘’’<br>或<br>‘’’ RUN [“/bin/bash”, “-c”, “apt-get install vim -y”]’’’  与shell风格相同</p>
<h3 id="ENTRYPOINT"><a href="#ENTRYPOINT" class="headerlink" title="ENTRYPOINT"></a>ENTRYPOINT</h3><ul>
<li>ENTRYPOINT命令设置在容器启动时执行命令，如果有多个ENTRYPOINT指令，那只有最后一个生效。有以下两种命令格式：<br>‘’’ ENTRYPOINT [“executable”, “param1”, “param2”]<br>或 exec 格式（推荐）<br>ENTRYPOINT command param1 param2    shell格式<br>‘’’<br>docker run -it –rm -p 80:80 nginx</li>
<li>使用exec格式中，在docker run <image>的所有参数，都会追加到ENTRYPOINT之后，并且会覆盖CMD所指定的参数（如果有的话）。如果需要覆盖ENTRYPOINT指令，使用–entrypoint 参数。</image></li>
<li>使用shell格式，ENTRYPOINT相当于执行/bin/sh -c <command..>，这种格式会忽略docker run和CMD的所有参数。</command..></li>
<li>当 ENTRYPOINT 和CMD 同时设置命令时，仅前者有效，不管命令先后顺序。</li>
<li>当 CMD 仅设置参数时，CMD 会被追加。</li>
</ul>
<h3 id="CMD"><a href="#CMD" class="headerlink" title="CMD"></a>CMD</h3><p>‘’‘ CMD [“executable”,”param1”,”param2”]<br>CMD [“param1”,”param2”]  (as default parameters to ENTRYPOINT)<br>CMD command param1 param2  (shell格式)<br>’‘’ </p>
<ul>
<li>一个Dockerfile里仅有最后一个‘’‘CMD ’‘’指令有效，‘’‘CMD’‘’指令的主要功能是在build完成后，为了给‘’‘docker run’‘’启动到容器时提供默认命令或参数。</li>
<li>它与ENTRYPOINT的功能极为相似，区别在于如果‘’‘docker run‘’‘后面出现与CMD指定的相同命令，那么CMD会被覆盖；而ENTRYPOINT会把容器名后面的所有内容都当成参数传递给其指定的命令（不会对命令覆盖，注意：在exec格式下）。</li>
<li>CMD与RUN的区别在于，RUN是在build成镜像时就运行的，先于CMD和ENTRYPOINT的，CMD会在每次启动容器的时候运行，而RUN只在创建镜像时执行一次，固化在image中。</li>
</ul>
<h3 id="EXPOSE"><a href="#EXPOSE" class="headerlink" title="EXPOSE"></a>EXPOSE</h3><ul>
<li>EXPOSE指令告诉容器在运行时要监听的端口，但是这个端口是用于多个容器之间通信用的（links），外面的host是访问不到的。要把端口暴露给外面的主机，在启动容器时使用-p选项。<br>示例：<br>‘’‘<h1 id="expose-memcached-s-port"><a href="#expose-memcached-s-port" class="headerlink" title="expose memcached(s) port"></a>expose memcached(s) port</h1>EXPOSE 8888 8080</li>
</ul>
<h3 id="ADD"><a href="#ADD" class="headerlink" title="ADD"></a>ADD</h3><p>’‘’ ADD <src>… <dest>‘’‘</dest></src></p>
<ul>
<li>将文件‘’‘<src>’‘’拷贝到container的文件系统对应的路径‘’‘<dest>’‘’下。<br>‘’‘<src>’‘’可以是文件、文件夹、URL，对于文件和文件夹‘’‘<src>’‘’必须是在Dockerfile的所在的目录下且是相对路径，<br>‘’‘<dest>’‘’只能是容器中的绝对路径。如果路径不存在则会自动级联创建。</dest></src></src></dest></src></li>
<li>支持模糊匹配</li>
<li>另外ADD支持远程URL获取文件，但官方认为是strongly discouraged，建议使用wget或curl代替。</li>
<li>ADD还支持自动解压tar文件，比如ADD trusty-core-amd64.tar.gz /会线自动解压内容再COPY到在容器的/目录下。</li>
<li>ADD只有在build镜像的时候运行一次，后面运行container的时候不会再重新加载，也就是你不能在运行时通过这种方式向容器中传送文件，-v选项映射本地到容器的目录。</li>
</ul>
<h3 id="COPY"><a href="#COPY" class="headerlink" title="COPY"></a>COPY</h3><p>Same as ‘ADD’ but without the tar and remote url handling.</p>
<ul>
<li>COPY的语法与功能与ADD相同，只是不支持上面讲到的‘’‘<src>’‘’是远程URL、自动解压这两个特性，但是 <em>Best Practices for Writing Dockerfiles</em> 建议尽量使用COPY，并使用RUN与COPY的组合来代替ADD，这是因为虽然COPY只支持本地文件拷贝到container，但它的处理比ADD更加透明，建议只在复制tar文件时使用ADD，如ADD trusty-core-amd64.tar.gz /。</src></li>
</ul>
<h3 id="ENV"><a href="#ENV" class="headerlink" title="ENV"></a>ENV</h3><ul>
<li>用于设置环境变量：<br>‘’‘ ENV <key> <value> ’‘’</value></key></li>
<li>设置了后，后续的RUN命令都可以使用，当运行生成的镜像时这些环境变量依然有效。</li>
<li>如果需要在运行时更改这些环境变量可以在运行‘’‘docker run’‘’时添加‘’‘-env <key>=<value>’‘’参数来修改。</value></key></li>
</ul>
<h3 id="VOLUME"><a href="#VOLUME" class="headerlink" title="VOLUME"></a>VOLUME</h3><ul>
<li>VOLUME指令用来在容器中设置一个挂载点，可以用来让其他容器挂载以实现数据共享或对容器数据的备份、恢复或迁移。请参考文章docker容器间通信</li>
</ul>
<h3 id="WORKDIR"><a href="#WORKDIR" class="headerlink" title="WORKDIR"></a>WORKDIR</h3><ul>
<li>WORKDIR指令用于设置Dockerfile中的RUN、CMD和ENTRYPOINT指令执行命令的工作目录(默认为/目录)，该指令在Dockerfile文件中可以出现多次，如果使用相对路径则为相对于WORKDIR上一次的值，例如WORKDIR /a，WORKDIR b，RUN pwd最终输出的当前目录是/a/b。（RUN cd /a/b，RUN pwd是得不到/a/b的）</li>
</ul>
<h3 id="ONBUILD"><a href="#ONBUILD" class="headerlink" title="ONBUILD"></a>ONBUILD</h3><ul>
<li>ONBUILD指令用来设置一些触发的指令，用于在当该镜像被作为基础镜像来创建其他镜像时(也就是Dockerfile中的FROM为当前镜像时)执行一些操作。</li>
<li>ONBUILD中定义的指令会在用于生成其他镜像的Dockerfile文件的FROM指令之后被执行，上述介绍的任何一个指令都可以用于ONBUILD指令，可以用来执行一些因为环境而变化的操作，使镜像更加通用。</li>
</ul>
<p><strong> 注意：</strong></p>
<ul>
<li>ONBUILD中定义的指令在当前镜像的build中不会被执行。</li>
<li>可以通过查看docker inspect‘’‘ <image> ’‘’命令执行结果的OnBuild键来查看某个镜像ONBUILD指令定义的内容。</image></li>
<li>ONBUILD中定义的指令会当做引用该镜像的Dockerfile文件的FROM指令的一部分来执行，执行顺序会按ONBUILD定义的先后顺序执行，如果ONBUILD中定义的任何一个指令运行失败，则会使FROM指令中断并导致整个build失败，当所有的ONBUILD中定义的指令成功完成后，会按正常顺序继续执行build。</li>
<li>ONBUILD中定义的指令不会继承到当前引用的镜像中，也就是当引用ONBUILD的镜像创建完成后将会清除所有引用的ONBUILD指令。</li>
<li>ONBUILD指令不允许嵌套，例如ONBUILD ONBUILD ADD . /data是不允许的。</li>
<li>ONBUILD指令不会执行其定义的FROM或MAINTAINER指令。<br>例如，Dockerfile使用如下的内容创建了镜像 image-A<br>‘’‘<br>ONBUILD ADD . /app/src<br>ONBUILD RUN /usr/local/bin/python-build –dir /app/src<br>’‘’</li>
<li>如果基于 image-A 创建新的镜像时，新的‘’‘Dockerfile’‘’中使用‘’‘FROM image-A’‘’指定基础镜像时，会自动执行ONBUILD指令内容，等价于在后面添加了两条指令。<br>‘’‘<br>FROM image-A<br>#Automatically run the following<br>ADD . /app/src<br>RUN /usr/local/bin/python-build –dir /app/src<br>’‘’</li>
</ul>
<h3 id="USER"><a href="#USER" class="headerlink" title="USER"></a>USER</h3><ul>
<li>为运行镜像时或者任何接下来的‘’‘RUN’‘’指令指定运行用户名或UID：</li>
</ul>
<p>‘’‘ USER daemon ‘’‘</p>
<h3 id="MAINTAINER"><a href="#MAINTAINER" class="headerlink" title="MAINTAINER"></a>MAINTAINER</h3><ul>
<li>使用MAINTAINER指令来为生成的镜像署名作者</li>
<li>MAINTAINER author’s name mailaddress</li>
</ul>
<h3 id="The-‘’‘-dockerignore’‘’-file"><a href="#The-‘’‘-dockerignore’‘’-file" class="headerlink" title="The ‘’‘.dockerignore’‘’ file"></a>The ‘’‘.dockerignore’‘’ file</h3><ul>
<li>.dockerignore用来忽略上下文目录中包含的一些image用不到的文件，它们不会传送到docker daemon。规则使用go语言的匹配语法。如：<br>‘’‘<br>$ cat .dockerignore<br>.git<br>tmp*<br>’‘’</li>
<li>更多内容参考Dockerfile最佳实践系列。官方有个Dockerfile tutorial练习Dockerfile的写法，非常简单但对于养成良好的格式、注释有一些帮助。</li>
</ul>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下："><span class="toc-number">1.</span> <span class="toc-text">Docker可以从Dockerfile中一步一步的读取指令来自动的创建镜像，常使用Dockerfile来创建用户自定义的镜像。格式如下：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Comment"><span class="toc-number"></span> <span class="toc-text">Comment</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#命令介绍"><span class="toc-number">1.</span> <span class="toc-text">命令介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#FROM"><span class="toc-number">1.1.</span> <span class="toc-text">FROM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RUN"><span class="toc-number">1.2.</span> <span class="toc-text">RUN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ENTRYPOINT"><span class="toc-number">1.3.</span> <span class="toc-text">ENTRYPOINT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CMD"><span class="toc-number">1.4.</span> <span class="toc-text">CMD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EXPOSE"><span class="toc-number">1.5.</span> <span class="toc-text">EXPOSE</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#expose-memcached-s-port"><span class="toc-number"></span> <span class="toc-text">expose memcached(s) port</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ADD"><span class="toc-number">0.1.</span> <span class="toc-text">ADD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#COPY"><span class="toc-number">0.2.</span> <span class="toc-text">COPY</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ENV"><span class="toc-number">0.3.</span> <span class="toc-text">ENV</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VOLUME"><span class="toc-number">0.4.</span> <span class="toc-text">VOLUME</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WORKDIR"><span class="toc-number">0.5.</span> <span class="toc-text">WORKDIR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ONBUILD"><span class="toc-number">0.6.</span> <span class="toc-text">ONBUILD</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#USER"><span class="toc-number">0.7.</span> <span class="toc-text">USER</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MAINTAINER"><span class="toc-number">0.8.</span> <span class="toc-text">MAINTAINER</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#The-‘’‘-dockerignore’‘’-file"><span class="toc-number">0.9.</span> <span class="toc-text">The ‘’‘.dockerignore’‘’ file</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&text=Dockerfile commands"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&title=Dockerfile commands"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&is_video=false&description=Dockerfile commands"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Dockerfile commands&body=Check out this article: http://blog.betterself.cn/2018/01/28/Dockerfile-commands/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&title=Dockerfile commands"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&title=Dockerfile commands"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&title=Dockerfile commands"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&title=Dockerfile commands"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://blog.betterself.cn/2018/01/28/Dockerfile-commands/&name=Dockerfile commands&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 VeniZhang
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="http://github.com/probberechts">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Disqus Comments -->


